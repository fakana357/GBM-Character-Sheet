<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Girl by Moonlight - Interactive Sheet</title>
    <style>
        /* --- FONTS & BASIC SETUP --- */
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto:wght@300;400;700&display=swap');

        :root {
            --stress-color: #f8bbd0;      /* Pastel Pink */
            --transcendence-color: #b2ebf2; /* Pastel Cyan */
            --eclipse-color: #d1c4e9;      /* Pastel Violet/Lavender */
            --recovery-color: #cfd8dc;     /* Pastel Grey-Blue */
            --xp-color: #fff9c4;           /* Pastel Yellow */
            --highlight-color: #ffcc80;    /* Pastel Orange for highlights */
            --base-dot-border: #9e9e9e;
            --background-color: #2c2f33;
            --sheet-bg-color: #36393f;
            --text-color: #f0f0f0;
            --border-color: #54575c;
            --header-font: 'Orbitron', sans-serif;
            --body-font: 'Roboto', sans-serif;
        }

        body {
            font-family: var(--body-font);
            background-color: var(--background-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
        }

        /* --- CHARACTER SHEET CONTAINER --- */
        .character-sheet {
            background-color: var(--sheet-bg-color);
            border: 2px solid var(--border-color);
            border-radius: 10px;
            padding: 25px;
            width: 100%;
            max-width: 900px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
        }

        h1, h2, h3 {
            font-family: var(--header-font);
            color: var(--transcendence-color);
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 5px;
            text-transform: uppercase;
        }

        h1 { text-align: center; }

        /* --- GRID LAYOUT --- */
        .grid-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-top: 20px;
        }

        .header-info, .harm-section, .links-section, .attributes-section, .dice-roller-section, .notes-section { 
            grid-column: 1 / -1; 
        }
        .status-trackers { grid-column: 1 / 3; display: flex; flex-direction: column; gap: 15px; }

        /* --- FORM ELEMENTS --- */
        input[type="text"], textarea {
            width: 100%;
            background-color: var(--background-color);
            border: 1px solid var(--border-color);
            color: var(--text-color);
            padding: 8px;
            border-radius: 4px;
            font-family: var(--body-font);
            font-size: 1em;
            box-sizing: border-box;
        }

        textarea { height: 120px; resize: vertical; }
        
        .name-fields { display: flex; gap: 20px; margin-bottom: 15px; }
        .name-fields > div { flex: 1; }
        label { display: block; margin-bottom: 5px; font-weight: bold; }

        /* --- DOTS / CHECKBOX STYLING --- */
        .dot-container { display: flex; align-items: center; gap: 5px; flex-wrap: wrap; }
        .dot-container input[type="checkbox"] { display: none; }
        .dot-container .dot {
            width: 20px; height: 20px;
            border: 2px solid var(--base-dot-border);
            border-radius: 50%;
            cursor: pointer;
            transition: background-color 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease;
            background-color: transparent; /* Empty by default */
        }

        /* NEW: Emphasized dot style for the first skill point */
        .emphasized-dot {
            border-width: 2px;
            box-shadow: 0 0 6px rgba(255, 255, 255, 0.5);
        }

        /* Dot Fill Colors on Check */
        input.stress-dot:checked + .dot { background-color: var(--stress-color); border-color: var(--stress-color); }
        input.transcendence-dot:checked + .dot { background-color: var(--transcendence-color); border-color: var(--transcendence-color); }
        input.recovery-dot:checked + .dot { background-color: var(--recovery-color); border-color: var(--recovery-color); }
        input.xp-dot:checked + .dot { background-color: var(--xp-color); border-color: var(--xp-color); }
        input.armor-dot:checked + .dot { background-color: #fff; border-color: #fff; }
        input.special-dot:checked + .dot { background-color: #f06292; border-color: #f06292; }
        input.link-dot:checked + .dot { background-color: #fff; border-color: #fff; }
        
        /* Skill Dots */
        input.skill-dot-normal:checked + .dot { background-color: #fff; border-color: #fff; box-shadow: none; }
        input.skill-dot-cyan:checked + .dot { background-color: var(--transcendence-color); border-color: var(--transcendence-color); }
        
        /* --- STATUS TOGGLES --- */
        .toggle-switch { position: relative; display: inline-block; width: 50px; height: 26px; }
        .toggle-switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: var(--border-color); transition: .4s; border-radius: 26px; }
        .slider:before { position: absolute; content: ""; height: 20px; width: 20px; left: 3px; bottom: 3px; background-color: white; transition: .4s; border-radius: 50%; }
        input:checked + .slider { background-color: var(--transcendence-color); }
        .eclipse-toggle:checked + .slider { background-color: var(--eclipse-color); }
        input:checked + .slider:before { transform: translateX(24px); }

        .tracker-item { display: flex; justify-content: space-between; align-items: center; background-color: var(--background-color); padding: 10px; border-radius: 5px; }
        .tracker-item span { font-weight: bold; font-size: 1.1em; }
        
        /* --- HARM SECTION --- */
        .harm-row { display: flex; align-items: center; gap: 10px; margin-bottom: 10px; }
        .harm-row .fields { flex-grow: 1; display: flex; gap: 10px; }
        .harm-row .fields input { flex: 1; }
        .harm-row .label { min-width: 100px; text-align: right; font-style: italic; color: #aaa; }

        /* --- ATTRIBUTES SECTION --- */
        .attributes-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; }
        .attribute-block { background: var(--background-color); padding: 15px; border-radius: 8px; }
        .attribute-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
        .action-row { display: flex; justify-content: space-between; align-items: center; padding: 5px 0; border-top: 1px solid var(--border-color); }
        .action-row:first-of-type { border-top: none; }
        .action-name { flex-grow: 1; }
        
        /* --- LINKS SECTION --- */
        .link-row { display: flex; align-items: center; gap: 15px; margin-bottom: 10px; }
        .link-row input[type="text"] { flex: 1; }

        /* --- DICE ROLLER --- */
        .dice-controls { display: flex; gap: 10px; margin-bottom: 15px; flex-wrap: wrap; }
        .dice-controls button {
            font-family: var(--header-font);
            background-color: var(--border-color);
            color: var(--text-color);
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .dice-controls button:hover { background-color: #676b70; }
        #clear-dice-btn { background-color: #7f3232; }
        #clear-dice-btn:hover { background-color: #a44242; }

        #dice-results { display: flex; align-items: center; gap: 10px; min-height: 40px; font-size: 1.5em; }
        
        /* NEW: Animation for dice appearing */
        @keyframes popIn {
            0% { transform: scale(0.5); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }

        .die {
            width: 40px; height: 40px;
            border: 2px solid var(--text-color);
            border-radius: 5px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            transform: scale(0); /* Start hidden for animation */
            opacity: 0;
        }

        .die-animated {
            animation: popIn 0.3s ease-out forwards;
        }
        
        .highest-die { background-color: var(--highlight-color); color: #000; border-color: var(--highlight-color); }
        .lowest-die { background-color: var(--recovery-color); color: #000; border-color: var(--recovery-color); }
        .crit-message { font-family: var(--header-font); color: var(--stress-color); font-weight: bold; text-shadow: 0 0 5px var(--stress-color); animation: popIn 0.3s ease-out forwards; }

    </style>
</head>
<body>

    <div class="character-sheet">
        <h1>Girl by Moonlight</h1>

        <div class="grid-container">
            <!-- HEADER INFO -->
            <section class="header-info">
                <div class="name-fields">
                    <div><label for="char-name">Name</label><input type="text" id="char-name"></div>
                    <div><label for="true-name">True Name</label><input type="text" id="true-name"></div>
                </div>
                <div><label for="promises">Promises</label><textarea id="promises"></textarea></div>
            </section>

            <!-- STATUS TRACKERS -->
            <section class="status-trackers">
                <div class="tracker-item"><span>Stress</span>
                    <div class="dot-container">
                        <input type="checkbox" id="stress1" class="stress-dot"><label for="stress1" class="dot"></label><input type="checkbox" id="stress2" class="stress-dot"><label for="stress2" class="dot"></label><input type="checkbox" id="stress3" class="stress-dot"><label for="stress3" class="dot"></label><input type="checkbox" id="stress4" class="stress-dot"><label for="stress4" class="dot"></label><input type="checkbox" id="stress5" class="stress-dot"><label for="stress5" class="dot"></label><input type="checkbox" id="stress6" class="stress-dot"><label for="stress6" class="dot"></label><input type="checkbox" id="stress7" class="stress-dot"><label for="stress7" class="dot"></label><input type="checkbox" id="stress8" class="stress-dot"><label for="stress8" class="dot"></label><input type="checkbox" id="stress9" class="stress-dot"><label for="stress9" class="dot"></label>
                    </div>
                </div>
                <div class="tracker-item"><span>Transcendence</span>
                    <div class="dot-container">
                        <input type="checkbox" id="trans1" class="transcendence-dot"><label for="trans1" class="dot"></label><input type="checkbox" id="trans2" class="transcendence-dot"><label for="trans2" class="dot"></label><input type="checkbox" id="trans3" class="transcendence-dot"><label for="trans3" class="dot"></label><input type="checkbox" id="trans4" class="transcendence-dot"><label for="trans4" class="dot"></label>
                    </div>
                </div>
                 <div class="tracker-item"><span>Recovery</span>
                    <div class="dot-container">
                        <input type="checkbox" id="rec1" class="recovery-dot"><label for="rec1" class="dot"></label><input type="checkbox" id="rec2" class="recovery-dot"><label for="rec2" class="dot"></label><input type="checkbox" id="rec3" class="recovery-dot"><label for="rec3" class="dot"></label><input type="checkbox" id="rec4" class="recovery-dot"><label for="rec4" class="dot"></label>
                    </div>
                </div>
                <div class="tracker-item"><span>Playbook XP</span>
                    <div class="dot-container">
                        <input type="checkbox" id="xp1" class="xp-dot"><label for="xp1" class="dot"></label><input type="checkbox" id="xp2" class="xp-dot"><label for="xp2" class="dot"></label><input type="checkbox" id="xp3" class="xp-dot"><label for="xp3" class="dot"></label><input type="checkbox" id="xp4" class="xp-dot"><label for="xp4" class="dot"></label><input type="checkbox" id="xp5" class="xp-dot"><label for="xp5" class="dot"></label><input type="checkbox" id="xp6" class="xp-dot"><label for="xp6" class="dot"></label><input type="checkbox" id="xp7" class="xp-dot"><label for="xp7" class="dot"></label><input type="checkbox" id="xp8" class="xp-dot"><label for="xp8" class="dot"></label>
                    </div>
                </div>
            </section>
            
            <aside style="grid-column: 3 / 4; display: flex; flex-direction: column; gap: 15px;">
                 <div class="tracker-item"><span>Transcendent</span><label class="toggle-switch"><input type="checkbox"><span class="slider"></span></label></div>
                <div class="tracker-item"><span>Eclipse</span><label class="toggle-switch"><input type="checkbox" class="eclipse-toggle"><span class="slider"></span></label></div>
                <div class="tracker-item"><span>Armour</span><div class="dot-container"><input type="checkbox" id="armor1" class="armor-dot"><label for="armor1" class="dot"></label></div></div>
                 <div class="tracker-item"><span>Special</span><div class="dot-container"><input type="checkbox" id="special1" class="special-dot"><label for="special1" class="dot"></label></div></div>
            </aside>

            <!-- HARM -->
            <section class="harm-section"><h2>Harm</h2>
                <div class="harm-row">
                    <div class="fields"><input type="text" placeholder="Harm 1"><input type="text" placeholder="Harm 2"></div><div class="label">less effect</div>
                </div>
                <div class="harm-row">
                    <div class="fields"><input type="text" placeholder="Harm 1"><input type="text" placeholder="Harm 2"></div><div class="label">-1d</div>
                </div>
                <div class="harm-row">
                    <div class="fields"><input type="text" placeholder="Harm 1"></div><div class="label">need help</div>
                </div>
            </section>

            <!-- LINKS -->
            <section class="links-section"><h2>Links</h2>
                <div class="link-row">
                    <input type="text" placeholder="Link with...">
                    <div class="dot-container">
                        <input type="checkbox" id="l1_1" class="link-dot"><label for="l1_1" class="dot"></label><input type="checkbox" id="l1_2" class="link-dot"><label for="l1_2" class="dot"></label><input type="checkbox" id="l1_3" class="link-dot"><label for="l1_3" class="dot"></label><input type="checkbox" id="l1_4" class="link-dot"><label for="l1_4" class="dot"></label><input type="checkbox" id="l1_5" class="link-dot"><label for="l1_5" class="dot"></label><input type="checkbox" id="l1_6" class="link-dot"><label for="l1_6" class="dot"></label>
                    </div>
                </div>
                <div class="link-row">
                    <input type="text" placeholder="Link with...">
                    <div class="dot-container">
                        <input type="checkbox" id="l2_1" class="link-dot"><label for="l2_1" class="dot"></label><input type="checkbox" id="l2_2" class="link-dot"><label for="l2_2" class="dot"></label><input type="checkbox" id="l2_3" class="link-dot"><label for="l2_3" class="dot"></label><input type="checkbox" id="l2_4" class="link-dot"><label for="l2_4" class="dot"></label><input type="checkbox" id="l2_5" class="link-dot"><label for="l2_5" class="dot"></label><input type="checkbox" id="l2_6" class="link-dot"><label for="l2_6" class="dot"></label>
                    </div>
                </div>
                <div class="link-row">
                    <input type="text" placeholder="Link with...">
                    <div class="dot-container">
                        <input type="checkbox" id="l3_1" class="link-dot"><label for="l3_1" class="dot"></label><input type="checkbox" id="l3_2" class="link-dot"><label for="l3_2" class="dot"></label><input type="checkbox" id="l3_3" class="link-dot"><label for="l3_3" class="dot"></label><input type="checkbox" id="l3_4" class="link-dot"><label for="l3_4" class="dot"></label><input type="checkbox" id="l3_5" class="link-dot"><label for="l3_5" class="dot"></label><input type="checkbox" id="l3_6" class="link-dot"><label for="l3_6" class="dot"></label>
                    </div>
                </div>
                <div class="link-row">
                    <input type="text" placeholder="Link with...">
                    <div class="dot-container">
                        <input type="checkbox" id="l4_1" class="link-dot"><label for="l4_1" class="dot"></label><input type="checkbox" id="l4_2" class="link-dot"><label for="l4_2" class="dot"></label><input type="checkbox" id="l4_3" class="link-dot"><label for="l4_3" class="dot"></label><input type="checkbox" id="l4_4" class="link-dot"><label for="l4_4" class="dot"></label><input type="checkbox" id="l4_5" class="link-dot"><label for="l4_5" class="dot"></label><input type="checkbox" id="l4_6" class="link-dot"><label for="l4_6" class="dot"></label>
                    </div>
                </div>
            </section>
            
            <!-- ATTRIBUTES -->
            <section class="attributes-section"><h2>Attributes</h2>
                <div class="attributes-grid">
                    <div class="attribute-block">
                        <div class="attribute-header"><h3>Sun</h3>
                            <div class="dot-container">
                                <input type="checkbox" id="sun_xp1" class="xp-dot"><label for="sun_xp1" class="dot"></label><input type="checkbox" id="sun_xp2" class="xp-dot"><label for="sun_xp2" class="dot"></label><input type="checkbox" id="sun_xp3" class="xp-dot"><label for="sun_xp3" class="dot"></label><input type="checkbox" id="sun_xp4" class="xp-dot"><label for="sun_xp4" class="dot"></label><input type="checkbox" id="sun_xp5" class="xp-dot"><label for="sun_xp5" class="dot"></label><input type="checkbox" id="sun_xp6" class="xp-dot"><label for="sun_xp6" class="dot"></label>
                            </div>
                        </div>
                        <div class="action-row"><span class="action-name">Defy</span><div class="dot-container"><input type="checkbox" id="defy1" class="skill-dot-normal"><label for="defy1" class="dot emphasized-dot"></label><input type="checkbox" id="defy2" class="skill-dot-normal"><label for="defy2" class="dot"></label><input type="checkbox" id="defy3" class="skill-dot-cyan"><label for="defy3" class="dot"></label><input type="checkbox" id="defy4" class="skill-dot-cyan"><label for="defy4" class="dot"></label></div></div>
                        <div class="action-row"><span class="action-name">Empathize</span><div class="dot-container"><input type="checkbox" id="emp1" class="skill-dot-normal"><label for="emp1" class="dot emphasized-dot"></label><input type="checkbox" id="emp2" class="skill-dot-normal"><label for="emp2" class="dot"></label><input type="checkbox" id="emp3" class="skill-dot-cyan"><label for="emp3" class="dot"></label><input type="checkbox" id="emp4" class="skill-dot-cyan"><label for="emp4" class="dot"></label></div></div>
                        <div class="action-row"><span class="action-name">Express</span><div class="dot-container"><input type="checkbox" id="exp1" class="skill-dot-normal"><label for="exp1" class="dot emphasized-dot"></label><input type="checkbox" id="exp2" class="skill-dot-normal"><label for="exp2" class="dot"></label><input type="checkbox" id="exp3" class="skill-dot-cyan"><label for="exp3" class="dot"></label><input type="checkbox" id="exp4" class="skill-dot-cyan"><label for="exp4" class="dot"></label></div></div>
                    </div>
                    <div class="attribute-block">
                        <div class="attribute-header"><h3>Moon</h3>
                            <div class="dot-container">
                                <input type="checkbox" id="moon_xp1" class="xp-dot"><label for="moon_xp1" class="dot"></label><input type="checkbox" id="moon_xp2" class="xp-dot"><label for="moon_xp2" class="dot"></label><input type="checkbox" id="moon_xp3" class="xp-dot"><label for="moon_xp3" class="dot"></label><input type="checkbox" id="moon_xp4" class="xp-dot"><label for="moon_xp4" class="dot"></label><input type="checkbox" id="moon_xp5" class="xp-dot"><label for="moon_xp5" class="dot"></label><input type="checkbox" id="moon_xp6" class="xp-dot"><label for="moon_xp6" class="dot"></label>
                            </div>
                        </div>
                        <div class="action-row"><span class="action-name">Confess</span><div class="dot-container"><input type="checkbox" id="con1" class="skill-dot-normal"><label for="con1" class="dot emphasized-dot"></label><input type="checkbox" id="con2" class="skill-dot-normal"><label for="con2" class="dot"></label><input type="checkbox" id="con3" class="skill-dot-cyan"><label for="con3" class="dot"></label><input type="checkbox" id="con4" class="skill-dot-cyan"><label for="con4" class="dot"></label></div></div>
                        <div class="action-row"><span class="action-name">Forgive</span><div class="dot-container"><input type="checkbox" id="for1" class="skill-dot-normal"><label for="for1" class="dot emphasized-dot"></label><input type="checkbox" id="for2" class="skill-dot-normal"><label for="for2" class="dot"></label><input type="checkbox" id="for3" class="skill-dot-cyan"><label for="for3" class="dot"></label><input type="checkbox" id="for4" class="skill-dot-cyan"><label for="for4" class="dot"></label></div></div>
                        <div class="action-row"><span class="action-name">Perceive</span><div class="dot-container"><input type="checkbox" id="per1" class="skill-dot-normal"><label for="per1" class="dot emphasized-dot"></label><input type="checkbox" id="per2" class="skill-dot-normal"><label for="per2" class="dot"></label><input type="checkbox" id="per3" class="skill-dot-cyan"><label for="per3" class="dot"></label><input type="checkbox" id="per4" class="skill-dot-cyan"><label for="per4" class="dot"></label></div></div>
                    </div>
                    <div class="attribute-block">
                        <div class="attribute-header"><h3>Stars</h3>
                            <div class="dot-container">
                                <input type="checkbox" id="stars_xp1" class="xp-dot"><label for="stars_xp1" class="dot"></label><input type="checkbox" id="stars_xp2" class="xp-dot"><label for="stars_xp2" class="dot"></label><input type="checkbox" id="stars_xp3" class="xp-dot"><label for="stars_xp3" class="dot"></label><input type="checkbox" id="stars_xp4" class="xp-dot"><label for="stars_xp4" class="dot"></label><input type="checkbox" id="stars_xp5" class="xp-dot"><label for="stars_xp5" class="dot"></label><input type="checkbox" id="stars_xp6" class="xp-dot"><label for="stars_xp6" class="dot"></label>
                            </div>
                        </div>
                        <div class="action-row"><span class="action-name">Analyze</span><div class="dot-container"><input type="checkbox" id="ana1" class="skill-dot-normal"><label for="ana1" class="dot emphasized-dot"></label><input type="checkbox" id="ana2" class="skill-dot-normal"><label for="ana2" class="dot"></label><input type="checkbox" id="ana3" class="skill-dot-cyan"><label for="ana3" class="dot"></label><input type="checkbox" id="ana4" class="skill-dot-cyan"><label for="ana4" class="dot"></label></div></div>
                        <div class="action-row"><span class="action-name">Conceal</span><div class="dot-container"><input type="checkbox" id="ccl1" class="skill-dot-normal"><label for="ccl1" class="dot emphasized-dot"></label><input type="checkbox" id="ccl2" class="skill-dot-normal"><label for="ccl2" class="dot"></label><input type="checkbox" id="ccl3" class="skill-dot-cyan"><label for="ccl3" class="dot"></label><input type="checkbox" id="ccl4" class="skill-dot-cyan"><label for="ccl4" class="dot"></label></div></div>
                        <div class="action-row"><span class="action-name">Flow</span><div class="dot-container"><input type="checkbox" id="flo1" class="skill-dot-normal"><label for="flo1" class="dot emphasized-dot"></label><input type="checkbox" id="flo2" class="skill-dot-normal"><label for="flo2" class="dot"></label><input type="checkbox" id="flo3" class="skill-dot-cyan"><label for="flo3" class="dot"></label><input type="checkbox" id="flo4" class="skill-dot-cyan"><label for="flo4" class="dot"></label></div></div>
                    </div>
                </div>
            </section>
            
            <!-- DICE ROLLER -->
            <section class="dice-roller-section">
                <h2>Dice Roller</h2>
                <div class="dice-controls">
                    <button onclick="rollDice(0)">0d6</button>
                    <button onclick="rollDice(1)">1d6</button>
                    <button onclick="rollDice(2)">2d6</button>
                    <button onclick="rollDice(3)">3d6</button>
                    <button onclick="rollDice(4)">4d6</button>
                    <button onclick="rollDice(5)">5d6</button>
                    <button onclick="rollDice(6)">6d6</button>
                    <button onclick="clearDice()" id="clear-dice-btn">Clear</button>
                </div>
                <div id="dice-results"></div>
            </section>

            <!-- NOTES -->
            <section class="notes-section">
                <h2>Notes</h2>
                <textarea placeholder="Your notes, abilities, and other details..."></textarea>
            </section>

        </div>
    </div>

    <script>
        function rollDice(numDice) {
            const resultsContainer = document.getElementById('dice-results');
            resultsContainer.innerHTML = ''; // Clear previous results

            if (numDice === 0) {
                // Special case: roll 2d6, keep lowest
                const rolls = [Math.floor(Math.random() * 6) + 1, Math.floor(Math.random() * 6) + 1];
                const lowest = Math.min(...rolls);
                
                rolls.forEach((roll, index) => {
                    const dieEl = document.createElement('div');
                    dieEl.className = 'die die-animated';
                    dieEl.textContent = roll;
                    dieEl.style.animationDelay = `${index * 100}ms`;
                    if (roll === lowest) {
                        dieEl.classList.add('lowest-die');
                    }
                    resultsContainer.appendChild(dieEl);
                });
                return;
            }

            let rolls = [];
            let highest = 0;
            let sixesCount = 0;

            for (let i = 0; i < numDice; i++) {
                const roll = Math.floor(Math.random() * 6) + 1;
                rolls.push(roll);
                if (roll > highest) {
                    highest = roll;
                }
                if (roll === 6) {
                    sixesCount++;
                }
            }
            
            rolls.forEach((roll, index) => {
                const dieEl = document.createElement('div');
                dieEl.className = 'die die-animated';
                dieEl.textContent = roll;
                dieEl.style.animationDelay = `${index * 100}ms`;
                if (roll === highest) {
                    dieEl.classList.add('highest-die');
                }
                resultsContainer.appendChild(dieEl);
            });

            if (sixesCount >= 2) {
                const critEl = document.createElement('div');
                critEl.className = 'crit-message';
                critEl.textContent = 'CRIT!';
                critEl.style.animationDelay = `${numDice * 100}ms`;
                resultsContainer.appendChild(critEl);
            }
        }
        
        function clearDice() {
             document.getElementById('dice-results').innerHTML = '';
        }
    </script>

</body>
</html>